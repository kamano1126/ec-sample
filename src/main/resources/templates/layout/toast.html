<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<script src="https://cdn.tailwindcss.com"></script>
<body>
<div th:fragment="toast">

    <div id="toast"
         th:if="${param.toast}"
         th:classappend="
        ${param.toast} == 'added'   ? 'bg-green-500' :
        ${param.toast} == 'login'   ? 'bg-blue-500' :
        ${param.toast} == 'error'   ? 'bg-red-500' :
        ${param.toast} == 'warning' ? 'bg-yellow-400 text-black' :
        'bg-gray-500'"
         class="
            fixed top-6 right-6 z-50
            flex items-center gap-2
            px-5 py-3 rounded-lg shadow-xl
            bg-green-500 text-white text-sm font-medium
            transition-all duration-500 ease-out
            translate-y-2 opacity-0
         ">

        <!-- アイコン -->

        <!-- メッセージ -->
        <span th:text="
         ${param.toast} == 'added'   ? 'カートに追加しました' :
         ${param.toast} == 'login'   ? 'ログイン出来ました' :
         ${param.toast} == 'error'   ? '商品が存在しません' :
         ${param.toast} == 'warning' ? '在庫がありません' :
         ''">
        </span>
    </div>

    <script>
        const toast = document.getElementById('toast');
        if (toast) {
            // 表示（ふわっと上に）
            setTimeout(() => {
                toast.classList.remove('opacity-0', 'translate-y-2');
                toast.classList.add('opacity-100', 'translate-y-0');
            }, 100);

            // 3秒後に消す
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', 'translate-y-2');
            }, 3000);
        }
    </script>

</div>

</body>
</html>
