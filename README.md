# EC Application

**Spring Boot / Java ポートフォリオ**

---

## 概要

本アプリケーションは、
**業務アプリケーション開発を想定した EC サイトのポートフォリオ**です。

単なる CRUD 実装ではなく、
**実務で求められる設計・責務分離・拡張性**を重視して構築しています。

---

## 想定ユーザー

* **一般ユーザー**

  * 商品閲覧・検索・絞り込み
  * カート操作
  * 注文・注文履歴確認

* **管理者**

  * 商品管理（登録 / 編集 / 画像管理）
  * 注文管理（ステータス管理）

---

## 技術スタック

### Backend

* Java 17
* Spring Boot / Spring MVC
* Spring Data JPA
* Spring Security
* Bean Validation

### Frontend

* Thymeleaf
* Tailwind CSS

### Database

* PostgreSQL

---

## アーキテクチャ

```
Controller
  ↓
Service（業務ロジック）
  ↓
Repository（DBアクセス）
  ↓
Entity（ドメインモデル）
```

* Controller：リクエスト受付・画面遷移制御
* Service：業務ルール・状態管理
* Repository：データ取得・永続化

---

## Service 設計の特徴

### 利用者別に責務を分離

#### 商品ドメイン

* `UserProductService`

  * 商品一覧・検索・絞り込み（ユーザー向け）
* `AdminProductService`

  * 商品登録・編集・画像管理（管理者向け）

#### 注文ドメイン

* `OrderService`（共通ロジック）
* `UserOrderService`（本人確認・注文履歴）
* `AdminOrderService`（全注文管理・ステータス更新）

👉 **「誰が使う処理か」を Service の責務として明確化**

---

## ドメイン設計

* `User`
* `Product`
* `Order`
* `OrderItem`

### 設計ポイント

* `Order` と `OrderItem` を分離し正規化
* 注文状態を `enum Status` で管理
* 不正な状態遷移は Service 層で制御
* 外部キーは `@JoinColumn` により明示

---

## 実装済み機能

### 商品

* 一覧表示
* ソート（新着 / 価格昇順・降順）
* 絞り込み（カテゴリ・ブランド・年代・価格帯・在庫）

### カート

* セッションベース管理
* 数量変更・削除
* 在庫上限チェック

### 注文

* 注文作成
* 合計金額計算
* ステータス管理
  （CREATED / PAID / SHIPPED / CANCELLED）
* ユーザー本人チェック

---

## 今後の追加実装予定

### 追加予定の機能一覧

* 管理者キャンセル時のキャンセル理由通知
* 注文詳細から商品詳細への遷移
* ユーザー管理機能（管理者向け）

---

### 各追加機能の目的

* **管理者キャンセル理由通知**
  → キャンセル理由を明示し、ユーザー体験と運用品質を向上させるため

* **注文詳細から商品詳細への遷移**
  → 再購入導線を強化し、回遊性を高めるため

* **ユーザー管理機能**
  → 実務で必須となる管理・サポート業務を想定するため

---

### 拡張方針

* 既存の User / Admin Service 分離を維持
* 既存ドメインへの影響を最小化
* Controller Fat を避け、Service 中心の設計を継続

---

## 設計方針・アピールポイント

* Controller に業務ロジックを持たせない
* 状態管理・権限制御を Service に集約
* 将来的な機能追加を前提とした構成
* 実務レビューを意識した可読性・保守性

---

## 補足

本ポートフォリオは、
**「技術を使えるか」ではなく
「業務アプリケーションをどう設計するか」**
を重視して作成しています。

